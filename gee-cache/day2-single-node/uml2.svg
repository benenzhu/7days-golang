<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="602px" preserveAspectRatio="none" style="width:1410px;height:602px;" version="1.1" viewBox="0 0 1410 602" width="1410px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="375" x="519.5" y="16.708">https://github.com/geektutu/7days-golang/</text><!--MD5=[cbb0665103b44ad670287b88e1f62f09]
cluster geecache--><polygon fill="#FFFFFF" points="252,183.9531,335,183.9531,342,206.25,1388,206.25,1388,502.9531,252,502.9531,252,183.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="252" x2="342" y1="206.25" y2="206.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="256" y="198.9482">geecache</text><!--MD5=[1f0feaa2d3c424fa6c92f02096db24db]
cluster lru--><polygon fill="#FFFFFF" points="14,36.9531,41,36.9531,48,59.25,232,59.25,232,381.9531,14,381.9531,14,36.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="48" y1="59.25" y2="59.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="18" y="51.9482">lru</text><!--MD5=[d4e5a4ebfc6dbe3d3fcdc901849cbe75]
class geecache.ByteView--><rect fill="#FEFECE" height="99.2188" id="geecache.ByteView" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="1258" y="236.4531"/><ellipse cx="1288.75" cy="252.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1288.2344,253.0156 Q1286.375,252.3125 1285.7188,251.5469 Q1285.0781,250.7656 1285.0781,249.4531 Q1285.0781,247.7656 1286.1563,246.7969 Q1287.2344,245.8281 1289.1094,245.8281 Q1289.9688,245.8281 1290.8125,246.0313 Q1291.6719,246.2188 1292.5156,246.6094 L1292.5156,249 Q1291.7344,248.4375 1290.9063,248.1563 Q1290.0938,247.8594 1289.2969,247.8594 Q1288.4219,247.8594 1287.9375,248.2188 Q1287.4688,248.5781 1287.4688,249.2344 Q1287.4688,249.75 1287.8125,250.0938 Q1288.1563,250.4219 1289.25,250.8281 L1290.3125,251.2344 Q1291.7969,251.7813 1292.5,252.6875 Q1293.2188,253.5938 1293.2188,254.9688 Q1293.2188,256.8438 1292.1094,257.7656 Q1291,258.6875 1288.75,258.6875 Q1287.8281,258.6875 1286.9063,258.4688 Q1285.9844,258.25 1285.125,257.8281 L1285.125,255.2969 Q1286.0938,255.9844 1287.0156,256.3281 Q1287.9375,256.6719 1288.8281,256.6719 Q1289.7344,256.6719 1290.2344,256.2656 Q1290.7344,255.8438 1290.7344,255.1094 Q1290.7344,254.5469 1290.3906,254.1406 Q1290.0625,253.7188 1289.4375,253.4688 L1288.2344,253.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="1306.25" y="256.6074">ByteView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1259" x2="1379" y1="268.4531" y2="268.4531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1266" y="276.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1278" y="282.6636">b []byte</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1259" x2="1379" y1="289.2578" y2="289.2578"/><ellipse cx="1269" cy="300.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="1278" y="303.4683">Len() int</text><ellipse cx="1269" cy="313.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1278" y="316.2729">ByteSlice() []byte</text><ellipse cx="1269" cy="325.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="1278" y="329.0776">String() string</text><!--MD5=[5abbbb83b391ed617fe8370adf20e9e9]
class geecache.Getter--><rect fill="#FEFECE" height="60.8047" id="geecache.Getter" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="1031.5" y="255.4531"/><ellipse cx="1102.75" cy="271.4531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1098.6719,267.2188 L1098.6719,265.0625 L1106.0625,265.0625 L1106.0625,267.2188 L1103.5938,267.2188 L1103.5938,275.2969 L1106.0625,275.2969 L1106.0625,277.4531 L1098.6719,277.4531 L1098.6719,275.2969 L1101.1406,275.2969 L1101.1406,267.2188 L1098.6719,267.2188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="1123.25" y="275.6074">Getter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1032.5" x2="1221.5" y1="287.4531" y2="287.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1032.5" x2="1221.5" y1="295.4531" y2="295.4531"/><ellipse cx="1042.5" cy="306.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="1051.5" y="309.6636">Get(key string) ([]byte, error)</text><!--MD5=[85c993c9aa169c843121f1fc84fe37be]
class geecache.GetterFunc--><rect fill="#FEFECE" height="60.8047" id="geecache.GetterFunc" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="646.5" y="433.9531"/><ellipse cx="702.75" cy="449.9531" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M703.5938,456.7031 L701.1406,456.7031 L701.1406,446.4531 L698,446.4531 L698,444.3125 L706.7344,444.3125 L706.7344,446.4531 L703.5938,446.4531 L703.5938,456.7031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="723.25" y="454.1074">GetterFunc</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="647.5" x2="836.5" y1="465.9531" y2="465.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="647.5" x2="836.5" y1="473.9531" y2="473.9531"/><ellipse cx="657.5" cy="484.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="666.5" y="488.1636">Get(key string) ([]byte, error)</text><!--MD5=[bce767293f42b9ff31dad03acef02854]
class geecache.Group--><rect fill="#FEFECE" height="150.4375" id="geecache.Group" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="267" x="729.5" y="210.9531"/><ellipse cx="839.75" cy="226.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M839.2344,227.5156 Q837.375,226.8125 836.7188,226.0469 Q836.0781,225.2656 836.0781,223.9531 Q836.0781,222.2656 837.1563,221.2969 Q838.2344,220.3281 840.1094,220.3281 Q840.9688,220.3281 841.8125,220.5313 Q842.6719,220.7188 843.5156,221.1094 L843.5156,223.5 Q842.7344,222.9375 841.9063,222.6563 Q841.0938,222.3594 840.2969,222.3594 Q839.4219,222.3594 838.9375,222.7188 Q838.4688,223.0781 838.4688,223.7344 Q838.4688,224.25 838.8125,224.5938 Q839.1563,224.9219 840.25,225.3281 L841.3125,225.7344 Q842.7969,226.2813 843.5,227.1875 Q844.2188,228.0938 844.2188,229.4688 Q844.2188,231.3438 843.1094,232.2656 Q842,233.1875 839.75,233.1875 Q838.8281,233.1875 837.9063,232.9688 Q836.9844,232.75 836.125,232.3281 L836.125,229.7969 Q837.0938,230.4844 838.0156,230.8281 Q838.9375,231.1719 839.8281,231.1719 Q840.7344,231.1719 841.2344,230.7656 Q841.7344,230.3438 841.7344,229.6094 Q841.7344,229.0469 841.3906,228.6406 Q841.0625,228.2188 840.4375,227.9688 L839.2344,227.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="860.25" y="231.1074">Group</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="730.5" x2="995.5" y1="242.9531" y2="242.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737.5" y="250.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="749.5" y="257.1636">name string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737.5" y="263.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="749.5" y="269.9683">getter Getter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737.5" y="276.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="749.5" y="282.7729">mainCache cache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="730.5" x2="995.5" y1="289.3672" y2="289.3672"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737.5" y="297.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="749.5" y="303.5776">load(key string) (ByteView, error)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737.5" y="310.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="749.5" y="316.3823">getLocally(key string) (ByteView, error)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737.5" y="322.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="749.5" y="329.187">populateCache(key string, value ByteView)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="753.5" y="341.9917"/><ellipse cx="740.5" cy="351.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="749.5" y="354.7964">Get(key string) (ByteView, error)</text><!--MD5=[4a1628ad788f0bb7bae67d7d50bd0170]
class geecache.cache--><rect fill="#FEFECE" height="112.0234" id="geecache.cache" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="490" y="229.9531"/><ellipse cx="568.75" cy="245.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M568.2344,246.5156 Q566.375,245.8125 565.7188,245.0469 Q565.0781,244.2656 565.0781,242.9531 Q565.0781,241.2656 566.1563,240.2969 Q567.2344,239.3281 569.1094,239.3281 Q569.9688,239.3281 570.8125,239.5313 Q571.6719,239.7188 572.5156,240.1094 L572.5156,242.5 Q571.7344,241.9375 570.9063,241.6563 Q570.0938,241.3594 569.2969,241.3594 Q568.4219,241.3594 567.9375,241.7188 Q567.4688,242.0781 567.4688,242.7344 Q567.4688,243.25 567.8125,243.5938 Q568.1563,243.9219 569.25,244.3281 L570.3125,244.7344 Q571.7969,245.2813 572.5,246.1875 Q573.2188,247.0938 573.2188,248.4688 Q573.2188,250.3438 572.1094,251.2656 Q571,252.1875 568.75,252.1875 Q567.8281,252.1875 566.9063,251.9688 Q565.9844,251.75 565.125,251.3281 L565.125,248.7969 Q566.0938,249.4844 567.0156,249.8281 Q567.9375,250.1719 568.8281,250.1719 Q569.7344,250.1719 570.2344,249.7656 Q570.7344,249.3438 570.7344,248.6094 Q570.7344,248.0469 570.3906,247.6406 Q570.0625,247.2188 569.4375,246.9688 L568.2344,246.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="589.25" y="250.1074">cache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="491" x2="693" y1="261.9531" y2="261.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="498" y="269.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="510" y="276.1636">mu sync.Mutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="498" y="282.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="510" y="288.9683">lru *lru.Cache</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="498" y="295.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="510" y="301.7729">cacheBytes int64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="491" x2="693" y1="308.3672" y2="308.3672"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="498" y="316.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="510" y="322.5776">add(key string, value ByteView)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="498" y="329.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="510" y="335.3823">get(key string) (ByteView, bool)</text><!--MD5=[ab8939d4b70570a89542cd47091d0bcc]
class geecache.<font color=blue>func</font>(string) ([]byte, error)--><rect fill="#FEFECE" height="48" id="geecache.&lt;font color=blue&gt;func&lt;/font&gt;(string) ([]byte, error)" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="259.5" y="261.9531"/><ellipse cx="274.5" cy="277.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M277.4688,283.5938 Q276.8906,283.8906 276.25,284.0313 Q275.6094,284.1875 274.9063,284.1875 Q272.4063,284.1875 271.0781,282.5469 Q269.7656,280.8906 269.7656,277.7656 Q269.7656,274.6406 271.0781,272.9844 Q272.4063,271.3281 274.9063,271.3281 Q275.6094,271.3281 276.25,271.4844 Q276.9063,271.6406 277.4688,271.9375 L277.4688,274.6563 Q276.8438,274.0781 276.25,273.8125 Q275.6563,273.5313 275.0313,273.5313 Q273.6875,273.5313 273,274.6094 Q272.3125,275.6719 272.3125,277.7656 Q272.3125,279.8594 273,280.9375 Q273.6875,282 275.0313,282 Q275.6563,282 276.25,281.7344 Q276.8438,281.4531 277.4688,280.875 L277.4688,283.5938 Z "/><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="288.5" y="282.1074">func</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="315.5" y="282.1074">(string) ([]byte, error)</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="453.5" y1="293.9531" y2="293.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="453.5" y1="301.9531" y2="301.9531"/><!--MD5=[f8b1f1234089493b31ec65e7b929b747]
class lru.Value--><rect fill="#FEFECE" height="60.8047" id="lru.Value" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="151" y="70.4531"/><ellipse cx="168.25" cy="86.4531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M164.1719,82.2188 L164.1719,80.0625 L171.5625,80.0625 L171.5625,82.2188 L169.0938,82.2188 L169.0938,90.2969 L171.5625,90.2969 L171.5625,92.4531 L164.1719,92.4531 L164.1719,90.2969 L166.6406,90.2969 L166.6406,82.2188 L164.1719,82.2188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="182.75" y="90.6074">Value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="222" y1="102.4531" y2="102.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="222" y1="110.4531" y2="110.4531"/><ellipse cx="162" cy="121.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="171" y="124.6636">Len() int</text><!--MD5=[c326cb24942c0afc2e36041023c73139]
class lru.Cache--><rect fill="#FEFECE" height="176.0469" id="lru.Cache" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="22" y="197.9531"/><ellipse cx="99.25" cy="213.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M98.7344,214.5156 Q96.875,213.8125 96.2188,213.0469 Q95.5781,212.2656 95.5781,210.9531 Q95.5781,209.2656 96.6563,208.2969 Q97.7344,207.3281 99.6094,207.3281 Q100.4688,207.3281 101.3125,207.5313 Q102.1719,207.7188 103.0156,208.1094 L103.0156,210.5 Q102.2344,209.9375 101.4063,209.6563 Q100.5938,209.3594 99.7969,209.3594 Q98.9219,209.3594 98.4375,209.7188 Q97.9688,210.0781 97.9688,210.7344 Q97.9688,211.25 98.3125,211.5938 Q98.6563,211.9219 99.75,212.3281 L100.8125,212.7344 Q102.2969,213.2813 103,214.1875 Q103.7188,215.0938 103.7188,216.4688 Q103.7188,218.3438 102.6094,219.2656 Q101.5,220.1875 99.25,220.1875 Q98.3281,220.1875 97.4063,219.9688 Q96.4844,219.75 95.625,219.3281 L95.625,216.7969 Q96.5938,217.4844 97.5156,217.8281 Q98.4375,218.1719 99.3281,218.1719 Q100.2344,218.1719 100.7344,217.7656 Q101.2344,217.3438 101.2344,216.6094 Q101.2344,216.0469 100.8906,215.6406 Q100.5625,215.2188 99.9375,214.9688 L98.7344,214.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="119.75" y="218.1074">Cache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="223" y1="229.9531" y2="229.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="237.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="42" y="244.1636">maxBytes int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="250.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="42" y="256.9683">nbytes int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="263.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="42" y="269.7729">ll *list.List</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="276.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="42" y="282.5776">cache</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="79" y="282.5776">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="104" y="282.5776">[string]*list.Element</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="223" y1="289.1719" y2="289.1719"/><ellipse cx="33" cy="300.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="42" y="303.3823">OnEvicted</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="102" y="303.3823">func</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="126" y="303.3823">(string, Value)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="46" y="316.187"/><ellipse cx="33" cy="325.7813" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="42" y="328.9917">Add(key string, value Value)</text><ellipse cx="33" cy="338.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="42" y="341.7964">Get(key string) (Value, bool)</text><ellipse cx="33" cy="351.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="42" y="354.6011">RemoveOldest()</text><ellipse cx="33" cy="364.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="42" y="367.4058">Len() int</text><!--MD5=[7b83e3dc14d7872b2f8deeb4ed24529d]
class lru.entry--><rect fill="#FEFECE" height="73.6094" id="lru.entry" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="23.5" y="63.9531"/><ellipse cx="50.65" cy="79.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M50.1344,80.5156 Q48.275,79.8125 47.6188,79.0469 Q46.9781,78.2656 46.9781,76.9531 Q46.9781,75.2656 48.0563,74.2969 Q49.1344,73.3281 51.0094,73.3281 Q51.8688,73.3281 52.7125,73.5313 Q53.5719,73.7188 54.4156,74.1094 L54.4156,76.5 Q53.6344,75.9375 52.8063,75.6563 Q51.9938,75.3594 51.1969,75.3594 Q50.3219,75.3594 49.8375,75.7188 Q49.3688,76.0781 49.3688,76.7344 Q49.3688,77.25 49.7125,77.5938 Q50.0563,77.9219 51.15,78.3281 L52.2125,78.7344 Q53.6969,79.2813 54.4,80.1875 Q55.1188,81.0938 55.1188,82.4688 Q55.1188,84.3438 54.0094,85.2656 Q52.9,86.1875 50.65,86.1875 Q49.7281,86.1875 48.8063,85.9688 Q47.8844,85.75 47.025,85.3281 L47.025,82.7969 Q47.9938,83.4844 48.9156,83.8281 Q49.8375,84.1719 50.7281,84.1719 Q51.6344,84.1719 52.1344,83.7656 Q52.6344,83.3438 52.6344,82.6094 Q52.6344,82.0469 52.2906,81.6406 Q51.9625,81.2188 51.3375,80.9688 L50.1344,80.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="67.35" y="84.1074">entry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24.5" x2="113.5" y1="95.9531" y2="95.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="31.5" y="103.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="43.5" y="110.1636">key string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="31.5" y="116.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="43.5" y="122.9683">value Value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24.5" x2="113.5" y1="129.5625" y2="129.5625"/><!--MD5=[99f505aa381a34712fff552c77b19c7d]
reverse link lru.Value to geecache.ByteView--><path d="M243.436,102.7414 C449.2393,109.6242 1151.9985,136.4217 1240,183.9531 C1261.8754,195.7685 1279.633,216.514 1292.7311,236.2244 " fill="none" id="lru.Value&lt;-geecache.ByteView" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="242.9962,109.7308,223.2373,102.0769,243.4567,95.7384,242.9962,109.7308" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1207.6933" y="225.2375">implements</text><!--MD5=[f01b69bd75bb38f0d3b1e40bc4e81223]
reverse link geecache.Getter to geecache.GetterFunc--><path d="M1083.1682,330.5505 C1063.425,348.5946 1038.9643,368.3357 1014,381.9531 C958.9827,411.9638 891.6112,432.5022 837.6835,445.5808 " fill="none" id="geecache.Getter&lt;-geecache.GetterFunc" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1078.5741,325.2604,1097.9099,316.5927,1088.1996,335.4265,1078.5741,325.2604" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="845.4121" y="441.1326">implements</text><!--MD5=[b3e430339fb4beb6d068d1924520213d]
reverse link lru.Value to lru.Cache--><path d="M169.8828,150.4326 C164.8204,165.066 159.1187,181.5476 153.48,197.8468 " fill="none" id="lru.Value&lt;-lru.Cache" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="163.2776,148.1145,176.4317,131.5021,176.5083,152.6916,163.2776,148.1145" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="76.8573" y="186.9999">implements</text><!--MD5=[3f1a15ee586f1eba19b7b6f2ceec442c]
reverse link geecache.<font color=blue>func</font>(string) ([]byte, error) to geecache.GetterFunc--><path d="M384.0005,313.634 C406.1633,334.9578 439.285,363.7763 473,381.9531 C527.1769,411.1616 593.1883,431.6035 646.2603,444.8327 " fill="none" id="geecache.&lt;font color=blue&gt;func&lt;/font&gt;(string) ([]byte, error)&lt;-geecache.GetterFunc" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="375.2661" y="305.0119"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="593.3161" y="440.0885">alias of</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="158" x="628" y="530.2354">Generated via www.dumels.com</text><image height="60" width="60" x="677" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACW0lEQVR4Xu2aO1LDMBRFH3/YAR0LoYWKkm9BwV5YDXRQBKhImIFhExlaCgpq/rpRHuM8W4lsyUIWujMHHDt++DiyLJkQ5eTk5OQ4Z04x3xLRBbLXipeWiC4Q7iu+FV8eQT0QXVj4TbGiWPXAGul6UQu/i/UuWaAsHDaQqoK39SkRYchckJaRnI23Jyd8SbrXvFUMCpyOtycp/FF4nXyTLgpX5V8LY1kODZvQCWFc50PFkyd4tBU0dYTxHhsgARm53kTQ2Agj3AxnsUi61vl4WW6vImhshW2DeqjF9/DokoUd00j4uCV2qBxbYex7YsknTQrP2vd3YiwnzC6g3gOVz7qNMPfSdY4JnRb2433ldj6m0W0JP3AAB57YI13vntyE8cmhlqxfxSZ2HGerYvsh6Xq/whiF4FbgKxgluQr7Hlpm4baEJZgPJymMuvgj3GlgmV/jtymdF64iyU+4T+XmXMSUzgoPaLqYKckJrys25MpCggjzwGPfAzzwqBLG6x7pE2wKC6PGLpUHEU2ZEAZyKOYC6pmEr8iul27jmEbCRy2xTeXYCCPYV9YzgZbwSOVJgomgsRW2DfodCNeaHoaMb2HUQ+eWhWOJrTAeyC1ZsEy6SUf9EG+WMPfScjhqgntziNsQNHWEITGk8gP1pvCtKWjqCOPaxLL8t0kT+Pl19MK+gmuXm3/Q/FthXE93pJ+KVPFKCQn3SE8epoETkoQwB+LTwKeflPC0QBjNOgs7pDPCGDrKrxE2AV89/JP7sE1YGAcnJ/EuoF60wjeK55aIMpCWw0Nf5OTk5HQnP5VHM9pzOexnAAAAAElFTkSuQmCC" y="532.5938"/><!--MD5=[5b2515811b1cc3da397a4cfb67e442fb]
@startuml
skinparamlocked shadowing false
skinparamlocked roundCorner 10
title https://github.com/geektutu/7days-golang/
namespace geecache {
    class ByteView << (S,Aquamarine) >> {
        - b []byte

        + Len() int
        + ByteSlice() []byte
        + String() string

    }
    interface Getter  {
        + Get(key string) ([]byte, error)

    }
    class GetterFunc << (S,Aquamarine) >> {
        + Get(key string) ([]byte, error)

    }
    class Group << (S,Aquamarine) >> {
        - name string
        - getter Getter
        - mainCache cache

        - load(key string) (ByteView, error)
        - getLocally(key string) (ByteView, error)
        - populateCache(key string, value ByteView) 

        + Get(key string) (ByteView, error)

    }
    class cache << (S,Aquamarine) >> {
        - mu sync.Mutex
        - lru *lru.Cache
        - cacheBytes int64

        - add(key string, value ByteView) 
        - get(key string) (ByteView, bool)

    }
    class geecache.GetterFunc << (T, #FF7700) >>  {
    }
}

"lru.Value" <|- - "implements""geecache.ByteView"
"geecache.Getter" <|- - "implements""geecache.GetterFunc"


namespace lru {
    class Cache << (S,Aquamarine) >> {
        - maxBytes int64
        - nbytes int64
        - ll *list.List
        - cache <font color=blue>map</font>[string]*list.Element

        + OnEvicted <font color=blue>func</font>(string, Value) 

        + Add(key string, value Value) 
        + Get(key string) (Value, bool)
        + RemoveOldest() 
        + Len() int

    }
    interface Value  {
        + Len() int

    }
    class entry << (S,Aquamarine) >> {
        - key string
        - value Value

    }
}

"lru.Value" <|- - "implements""lru.Cache"


"geecache.<font color=blue>func</font>(string) ([]byte, error)" #.. "alias of""geecache.GetterFunc"

footer  Generated via www.dumels.com\n<img:support_files/svg_placeholders/logo.png{scale=.3}>
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="653px" preserveAspectRatio="none" style="width:1525px;height:653px;" version="1.1" viewBox="0 0 1525 653" width="1525px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="375" x="577" y="16.708">https://github.com/geektutu/7days-golang/</text><!--MD5=[cbb0665103b44ad670287b88e1f62f09]
cluster geecache--><polygon fill="#FFFFFF" points="252,183.9531,335,183.9531,342,206.25,1503,206.25,1503,553.9531,252,553.9531,252,183.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="252" x2="342" y1="206.25" y2="206.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="256" y="198.9482">geecache</text><!--MD5=[1f0feaa2d3c424fa6c92f02096db24db]
cluster lru--><polygon fill="#FFFFFF" points="14,36.9531,41,36.9531,48,59.25,232,59.25,232,381.9531,14,381.9531,14,36.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="48" y1="59.25" y2="59.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="18" y="51.9482">lru</text><!--MD5=[d4e5a4ebfc6dbe3d3fcdc901849cbe75]
class geecache.ByteView--><rect fill="#FEFECE" height="99.2188" id="geecache.ByteView" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="716" y="236.4531"/><ellipse cx="746.75" cy="252.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M746.2344,253.0156 Q744.375,252.3125 743.7188,251.5469 Q743.0781,250.7656 743.0781,249.4531 Q743.0781,247.7656 744.1563,246.7969 Q745.2344,245.8281 747.1094,245.8281 Q747.9688,245.8281 748.8125,246.0313 Q749.6719,246.2188 750.5156,246.6094 L750.5156,249 Q749.7344,248.4375 748.9063,248.1563 Q748.0938,247.8594 747.2969,247.8594 Q746.4219,247.8594 745.9375,248.2188 Q745.4688,248.5781 745.4688,249.2344 Q745.4688,249.75 745.8125,250.0938 Q746.1563,250.4219 747.25,250.8281 L748.3125,251.2344 Q749.7969,251.7813 750.5,252.6875 Q751.2188,253.5938 751.2188,254.9688 Q751.2188,256.8438 750.1094,257.7656 Q749,258.6875 746.75,258.6875 Q745.8281,258.6875 744.9063,258.4688 Q743.9844,258.25 743.125,257.8281 L743.125,255.2969 Q744.0938,255.9844 745.0156,256.3281 Q745.9375,256.6719 746.8281,256.6719 Q747.7344,256.6719 748.2344,256.2656 Q748.7344,255.8438 748.7344,255.1094 Q748.7344,254.5469 748.3906,254.1406 Q748.0625,253.7188 747.4375,253.4688 L746.2344,253.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="764.25" y="256.6074">ByteView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="717" x2="837" y1="268.4531" y2="268.4531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724" y="276.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="736" y="282.6636">b []byte</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="717" x2="837" y1="289.2578" y2="289.2578"/><ellipse cx="727" cy="300.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="736" y="303.4683">Len() int</text><ellipse cx="727" cy="313.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="736" y="316.2729">ByteSlice() []byte</text><ellipse cx="727" cy="325.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="736" y="329.0776">String() string</text><!--MD5=[5abbbb83b391ed617fe8370adf20e9e9]
class geecache.Getter--><rect fill="#FEFECE" height="60.8047" id="geecache.Getter" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="489.5" y="255.4531"/><ellipse cx="560.75" cy="271.4531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M556.6719,267.2188 L556.6719,265.0625 L564.0625,265.0625 L564.0625,267.2188 L561.5938,267.2188 L561.5938,275.2969 L564.0625,275.2969 L564.0625,277.4531 L556.6719,277.4531 L556.6719,275.2969 L559.1406,275.2969 L559.1406,267.2188 L556.6719,267.2188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="581.25" y="275.6074">Getter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="490.5" x2="679.5" y1="287.4531" y2="287.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="490.5" x2="679.5" y1="295.4531" y2="295.4531"/><ellipse cx="500.5" cy="306.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="509.5" y="309.6636">Get(key string) ([]byte, error)</text><!--MD5=[85c993c9aa169c843121f1fc84fe37be]
class geecache.GetterFunc--><rect fill="#FEFECE" height="60.8047" id="geecache.GetterFunc" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="375.5" y="459.4531"/><ellipse cx="431.75" cy="475.4531" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M432.5938,482.2031 L430.1406,482.2031 L430.1406,471.9531 L427,471.9531 L427,469.8125 L435.7344,469.8125 L435.7344,471.9531 L432.5938,471.9531 L432.5938,482.2031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="452.25" y="479.6074">GetterFunc</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="376.5" x2="565.5" y1="491.4531" y2="491.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="376.5" x2="565.5" y1="499.4531" y2="499.4531"/><ellipse cx="386.5" cy="510.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="395.5" y="513.6636">Get(key string) ([]byte, error)</text><!--MD5=[bce767293f42b9ff31dad03acef02854]
class geecache.Group--><rect fill="#FEFECE" height="150.4375" id="geecache.Group" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="267" x="873.5" y="210.9531"/><ellipse cx="983.75" cy="226.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M983.2344,227.5156 Q981.375,226.8125 980.7188,226.0469 Q980.0781,225.2656 980.0781,223.9531 Q980.0781,222.2656 981.1563,221.2969 Q982.2344,220.3281 984.1094,220.3281 Q984.9688,220.3281 985.8125,220.5313 Q986.6719,220.7188 987.5156,221.1094 L987.5156,223.5 Q986.7344,222.9375 985.9063,222.6563 Q985.0938,222.3594 984.2969,222.3594 Q983.4219,222.3594 982.9375,222.7188 Q982.4688,223.0781 982.4688,223.7344 Q982.4688,224.25 982.8125,224.5938 Q983.1563,224.9219 984.25,225.3281 L985.3125,225.7344 Q986.7969,226.2813 987.5,227.1875 Q988.2188,228.0938 988.2188,229.4688 Q988.2188,231.3438 987.1094,232.2656 Q986,233.1875 983.75,233.1875 Q982.8281,233.1875 981.9063,232.9688 Q980.9844,232.75 980.125,232.3281 L980.125,229.7969 Q981.0938,230.4844 982.0156,230.8281 Q982.9375,231.1719 983.8281,231.1719 Q984.7344,231.1719 985.2344,230.7656 Q985.7344,230.3438 985.7344,229.6094 Q985.7344,229.0469 985.3906,228.6406 Q985.0625,228.2188 984.4375,227.9688 L983.2344,227.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="1004.25" y="231.1074">Group</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="874.5" x2="1139.5" y1="242.9531" y2="242.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="881.5" y="250.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="893.5" y="257.1636">name string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="881.5" y="263.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="893.5" y="269.9683">getter Getter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="881.5" y="276.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="893.5" y="282.7729">mainCache cache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="874.5" x2="1139.5" y1="289.3672" y2="289.3672"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="881.5" y="297.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="893.5" y="303.5776">load(key string) (ByteView, error)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="881.5" y="310.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="893.5" y="316.3823">getLocally(key string) (ByteView, error)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="881.5" y="322.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="893.5" y="329.187">populateCache(key string, value ByteView)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="897.5" y="341.9917"/><ellipse cx="884.5" cy="351.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="893.5" y="354.7964">Get(key string) (ByteView, error)</text><!--MD5=[69b8707143d6ec9409802cf37d75c542]
class geecache.HTTPPool--><rect fill="#FEFECE" height="99.2188" id="geecache.HTTPPool" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="319" x="1175.5" y="236.4531"/><ellipse cx="1301.75" cy="252.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1301.2344,253.0156 Q1299.375,252.3125 1298.7188,251.5469 Q1298.0781,250.7656 1298.0781,249.4531 Q1298.0781,247.7656 1299.1563,246.7969 Q1300.2344,245.8281 1302.1094,245.8281 Q1302.9688,245.8281 1303.8125,246.0313 Q1304.6719,246.2188 1305.5156,246.6094 L1305.5156,249 Q1304.7344,248.4375 1303.9063,248.1563 Q1303.0938,247.8594 1302.2969,247.8594 Q1301.4219,247.8594 1300.9375,248.2188 Q1300.4688,248.5781 1300.4688,249.2344 Q1300.4688,249.75 1300.8125,250.0938 Q1301.1563,250.4219 1302.25,250.8281 L1303.3125,251.2344 Q1304.7969,251.7813 1305.5,252.6875 Q1306.2188,253.5938 1306.2188,254.9688 Q1306.2188,256.8438 1305.1094,257.7656 Q1304,258.6875 1301.75,258.6875 Q1300.8281,258.6875 1299.9063,258.4688 Q1298.9844,258.25 1298.125,257.8281 L1298.125,255.2969 Q1299.0938,255.9844 1300.0156,256.3281 Q1300.9375,256.6719 1301.8281,256.6719 Q1302.7344,256.6719 1303.2344,256.2656 Q1303.7344,255.8438 1303.7344,255.1094 Q1303.7344,254.5469 1303.3906,254.1406 Q1303.0625,253.7188 1302.4375,253.4688 L1301.2344,253.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1322.25" y="256.6074">HTTPPool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1176.5" x2="1493.5" y1="268.4531" y2="268.4531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1183.5" y="276.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="1195.5" y="282.6636">self string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1183.5" y="289.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1195.5" y="295.4683">basePath string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1176.5" x2="1493.5" y1="302.0625" y2="302.0625"/><ellipse cx="1186.5" cy="313.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="1195.5" y="316.2729">Log(format string, v ...</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1324.5" y="316.2729">interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="1374.5" y="316.2729">{})</text><ellipse cx="1186.5" cy="325.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="293" x="1195.5" y="329.0776">ServeHTTP(w http.ResponseWriter, r *http.Request)</text><!--MD5=[4a1628ad788f0bb7bae67d7d50bd0170]
class geecache.cache--><rect fill="#FEFECE" height="112.0234" id="geecache.cache" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="905" y="433.9531"/><ellipse cx="983.75" cy="449.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M983.2344,450.5156 Q981.375,449.8125 980.7188,449.0469 Q980.0781,448.2656 980.0781,446.9531 Q980.0781,445.2656 981.1563,444.2969 Q982.2344,443.3281 984.1094,443.3281 Q984.9688,443.3281 985.8125,443.5313 Q986.6719,443.7188 987.5156,444.1094 L987.5156,446.5 Q986.7344,445.9375 985.9063,445.6563 Q985.0938,445.3594 984.2969,445.3594 Q983.4219,445.3594 982.9375,445.7188 Q982.4688,446.0781 982.4688,446.7344 Q982.4688,447.25 982.8125,447.5938 Q983.1563,447.9219 984.25,448.3281 L985.3125,448.7344 Q986.7969,449.2813 987.5,450.1875 Q988.2188,451.0938 988.2188,452.4688 Q988.2188,454.3438 987.1094,455.2656 Q986,456.1875 983.75,456.1875 Q982.8281,456.1875 981.9063,455.9688 Q980.9844,455.75 980.125,455.3281 L980.125,452.7969 Q981.0938,453.4844 982.0156,453.8281 Q982.9375,454.1719 983.8281,454.1719 Q984.7344,454.1719 985.2344,453.7656 Q985.7344,453.3438 985.7344,452.6094 Q985.7344,452.0469 985.3906,451.6406 Q985.0625,451.2188 984.4375,450.9688 L983.2344,450.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="1004.25" y="454.1074">cache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="906" x2="1108" y1="465.9531" y2="465.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="913" y="473.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="925" y="480.1636">mu sync.Mutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="913" y="486.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="925" y="492.9683">lru *lru.Cache</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="913" y="499.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="925" y="505.7729">cacheBytes int64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="906" x2="1108" y1="512.3672" y2="512.3672"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="913" y="520.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="925" y="526.5776">add(key string, value ByteView)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="913" y="533.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="925" y="539.3823">get(key string) (ByteView, bool)</text><!--MD5=[ab8939d4b70570a89542cd47091d0bcc]
class geecache.<font color=blue>func</font>(string) ([]byte, error)--><rect fill="#FEFECE" height="48" id="geecache.&lt;font color=blue&gt;func&lt;/font&gt;(string) ([]byte, error)" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="259.5" y="261.9531"/><ellipse cx="274.5" cy="277.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M277.4688,283.5938 Q276.8906,283.8906 276.25,284.0313 Q275.6094,284.1875 274.9063,284.1875 Q272.4063,284.1875 271.0781,282.5469 Q269.7656,280.8906 269.7656,277.7656 Q269.7656,274.6406 271.0781,272.9844 Q272.4063,271.3281 274.9063,271.3281 Q275.6094,271.3281 276.25,271.4844 Q276.9063,271.6406 277.4688,271.9375 L277.4688,274.6563 Q276.8438,274.0781 276.25,273.8125 Q275.6563,273.5313 275.0313,273.5313 Q273.6875,273.5313 273,274.6094 Q272.3125,275.6719 272.3125,277.7656 Q272.3125,279.8594 273,280.9375 Q273.6875,282 275.0313,282 Q275.6563,282 276.25,281.7344 Q276.8438,281.4531 277.4688,280.875 L277.4688,283.5938 Z "/><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="288.5" y="282.1074">func</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="315.5" y="282.1074">(string) ([]byte, error)</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="453.5" y1="293.9531" y2="293.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="453.5" y1="301.9531" y2="301.9531"/><!--MD5=[f8b1f1234089493b31ec65e7b929b747]
class lru.Value--><rect fill="#FEFECE" height="60.8047" id="lru.Value" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="151" y="70.4531"/><ellipse cx="168.25" cy="86.4531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M164.1719,82.2188 L164.1719,80.0625 L171.5625,80.0625 L171.5625,82.2188 L169.0938,82.2188 L169.0938,90.2969 L171.5625,90.2969 L171.5625,92.4531 L164.1719,92.4531 L164.1719,90.2969 L166.6406,90.2969 L166.6406,82.2188 L164.1719,82.2188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="182.75" y="90.6074">Value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="222" y1="102.4531" y2="102.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="222" y1="110.4531" y2="110.4531"/><ellipse cx="162" cy="121.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="171" y="124.6636">Len() int</text><!--MD5=[c326cb24942c0afc2e36041023c73139]
class lru.Cache--><rect fill="#FEFECE" height="176.0469" id="lru.Cache" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="22" y="197.9531"/><ellipse cx="99.25" cy="213.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M98.7344,214.5156 Q96.875,213.8125 96.2188,213.0469 Q95.5781,212.2656 95.5781,210.9531 Q95.5781,209.2656 96.6563,208.2969 Q97.7344,207.3281 99.6094,207.3281 Q100.4688,207.3281 101.3125,207.5313 Q102.1719,207.7188 103.0156,208.1094 L103.0156,210.5 Q102.2344,209.9375 101.4063,209.6563 Q100.5938,209.3594 99.7969,209.3594 Q98.9219,209.3594 98.4375,209.7188 Q97.9688,210.0781 97.9688,210.7344 Q97.9688,211.25 98.3125,211.5938 Q98.6563,211.9219 99.75,212.3281 L100.8125,212.7344 Q102.2969,213.2813 103,214.1875 Q103.7188,215.0938 103.7188,216.4688 Q103.7188,218.3438 102.6094,219.2656 Q101.5,220.1875 99.25,220.1875 Q98.3281,220.1875 97.4063,219.9688 Q96.4844,219.75 95.625,219.3281 L95.625,216.7969 Q96.5938,217.4844 97.5156,217.8281 Q98.4375,218.1719 99.3281,218.1719 Q100.2344,218.1719 100.7344,217.7656 Q101.2344,217.3438 101.2344,216.6094 Q101.2344,216.0469 100.8906,215.6406 Q100.5625,215.2188 99.9375,214.9688 L98.7344,214.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="119.75" y="218.1074">Cache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="223" y1="229.9531" y2="229.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="237.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="42" y="244.1636">maxBytes int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="250.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="42" y="256.9683">nbytes int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="263.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="42" y="269.7729">ll *list.List</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="30" y="276.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="42" y="282.5776">cache</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="79" y="282.5776">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="104" y="282.5776">[string]*list.Element</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="223" y1="289.1719" y2="289.1719"/><ellipse cx="33" cy="300.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="42" y="303.3823">OnEvicted</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="102" y="303.3823">func</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="126" y="303.3823">(string, Value)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="46" y="316.187"/><ellipse cx="33" cy="325.7813" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="42" y="328.9917">Add(key string, value Value)</text><ellipse cx="33" cy="338.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="42" y="341.7964">Get(key string) (Value, bool)</text><ellipse cx="33" cy="351.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="42" y="354.6011">RemoveOldest()</text><ellipse cx="33" cy="364.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="42" y="367.4058">Len() int</text><!--MD5=[7b83e3dc14d7872b2f8deeb4ed24529d]
class lru.entry--><rect fill="#FEFECE" height="73.6094" id="lru.entry" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="23.5" y="63.9531"/><ellipse cx="50.65" cy="79.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M50.1344,80.5156 Q48.275,79.8125 47.6188,79.0469 Q46.9781,78.2656 46.9781,76.9531 Q46.9781,75.2656 48.0563,74.2969 Q49.1344,73.3281 51.0094,73.3281 Q51.8688,73.3281 52.7125,73.5313 Q53.5719,73.7188 54.4156,74.1094 L54.4156,76.5 Q53.6344,75.9375 52.8063,75.6563 Q51.9938,75.3594 51.1969,75.3594 Q50.3219,75.3594 49.8375,75.7188 Q49.3688,76.0781 49.3688,76.7344 Q49.3688,77.25 49.7125,77.5938 Q50.0563,77.9219 51.15,78.3281 L52.2125,78.7344 Q53.6969,79.2813 54.4,80.1875 Q55.1188,81.0938 55.1188,82.4688 Q55.1188,84.3438 54.0094,85.2656 Q52.9,86.1875 50.65,86.1875 Q49.7281,86.1875 48.8063,85.9688 Q47.8844,85.75 47.025,85.3281 L47.025,82.7969 Q47.9938,83.4844 48.9156,83.8281 Q49.8375,84.1719 50.7281,84.1719 Q51.6344,84.1719 52.1344,83.7656 Q52.6344,83.3438 52.6344,82.6094 Q52.6344,82.0469 52.2906,81.6406 Q51.9625,81.2188 51.3375,80.9688 L50.1344,80.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="67.35" y="84.1074">entry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24.5" x2="113.5" y1="95.9531" y2="95.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="31.5" y="103.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="43.5" y="110.1636">key string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="31.5" y="116.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="43.5" y="122.9683">value Value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24.5" x2="113.5" y1="129.5625" y2="129.5625"/><!--MD5=[99f505aa381a34712fff552c77b19c7d]
reverse link lru.Value to geecache.ByteView--><path d="M243.338,104.9025 C359.6436,113.8839 621.8056,138.6513 698,183.9531 C719.0817,196.4873 736.5822,216.9605 749.7081,236.2879 " fill="none" id="lru.Value&lt;-geecache.ByteView" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="242.4975,111.8593,223.0764,103.3846,243.5435,97.8984,242.4975,111.8593" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="664.5264" y="225.3099">implements</text><!--MD5=[f01b69bd75bb38f0d3b1e40bc4e81223]
reverse link geecache.Getter to geecache.GetterFunc--><path d="M558.0479,334.1831 C536.4164,372.8921 506.6999,426.069 488.1836,459.2035 " fill="none" id="geecache.Getter&lt;-geecache.GetterFunc" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="552.066,330.5381,567.933,316.494,564.2872,337.3676,552.066,330.5381" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="499.5652" y="448.4153">implements</text><!--MD5=[b3e430339fb4beb6d068d1924520213d]
reverse link lru.Value to lru.Cache--><path d="M169.8828,150.4326 C164.8204,165.066 159.1187,181.5476 153.48,197.8468 " fill="none" id="lru.Value&lt;-lru.Cache" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="163.2776,148.1145,176.4317,131.5021,176.5083,152.6916,163.2776,148.1145" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="76.8573" y="186.9999">implements</text><!--MD5=[3f1a15ee586f1eba19b7b6f2ceec442c]
reverse link geecache.<font color=blue>func</font>(string) ([]byte, error) to geecache.GetterFunc--><path d="M373.0424,314.6606 C394.3618,352.8111 431.8807,419.9502 453.7787,459.1361 " fill="none" id="geecache.&lt;font color=blue&gt;func&lt;/font&gt;(string) ([]byte, error)&lt;-geecache.GetterFunc" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="365.525" y="305.1557"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="400.5862" y="448.334">alias of</text><!--MD5=[b7c382025c3fe882621e60c2618fc5f5]
link geecache.Group to geecache.HTTPPool--><!--MD5=[d697a2be9f6722e292ad8d451600498c]
link geecache.Group to geecache.cache--><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="158" x="685.5" y="581.2354">Generated via www.dumels.com</text><image height="60" width="60" x="734.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACW0lEQVR4Xu2aO1LDMBRFH3/YAR0LoYWKkm9BwV5YDXRQBKhImIFhExlaCgpq/rpRHuM8W4lsyUIWujMHHDt++DiyLJkQ5eTk5OQ4Z04x3xLRBbLXipeWiC4Q7iu+FV8eQT0QXVj4TbGiWPXAGul6UQu/i/UuWaAsHDaQqoK39SkRYchckJaRnI23Jyd8SbrXvFUMCpyOtycp/FF4nXyTLgpX5V8LY1kODZvQCWFc50PFkyd4tBU0dYTxHhsgARm53kTQ2Agj3AxnsUi61vl4WW6vImhshW2DeqjF9/DokoUd00j4uCV2qBxbYex7YsknTQrP2vd3YiwnzC6g3gOVz7qNMPfSdY4JnRb2433ldj6m0W0JP3AAB57YI13vntyE8cmhlqxfxSZ2HGerYvsh6Xq/whiF4FbgKxgluQr7Hlpm4baEJZgPJymMuvgj3GlgmV/jtymdF64iyU+4T+XmXMSUzgoPaLqYKckJrys25MpCggjzwGPfAzzwqBLG6x7pE2wKC6PGLpUHEU2ZEAZyKOYC6pmEr8iul27jmEbCRy2xTeXYCCPYV9YzgZbwSOVJgomgsRW2DfodCNeaHoaMb2HUQ+eWhWOJrTAeyC1ZsEy6SUf9EG+WMPfScjhqgntziNsQNHWEITGk8gP1pvCtKWjqCOPaxLL8t0kT+Pl19MK+gmuXm3/Q/FthXE93pJ+KVPFKCQn3SE8epoETkoQwB+LTwKeflPC0QBjNOgs7pDPCGDrKrxE2AV89/JP7sE1YGAcnJ/EuoF60wjeK55aIMpCWw0Nf5OTk5HQnP5VHM9pzOexnAAAAAElFTkSuQmCC" y="583.5938"/><!--MD5=[751f87607713be8f2ec0462857f24a5d]
@startuml
skinparamlocked shadowing false
skinparamlocked roundCorner 10
title https://github.com/geektutu/7days-golang/
namespace geecache {
    class ByteView << (S,Aquamarine) >> {
        - b []byte

        + Len() int
        + ByteSlice() []byte
        + String() string

    }
    interface Getter  {
        + Get(key string) ([]byte, error)

    }
    class GetterFunc << (S,Aquamarine) >> {
        + Get(key string) ([]byte, error)

    }
    class Group << (S,Aquamarine) >> {
        - name string
        - getter Getter
        - mainCache cache

        - load(key string) (ByteView, error)
        - getLocally(key string) (ByteView, error)
        - populateCache(key string, value ByteView) 

        + Get(key string) (ByteView, error)

    }
    class HTTPPool << (S,Aquamarine) >> {
        - self string
        - basePath string

        + Log(format string, v ...<font color=blue>interface</font>{}) 
        + ServeHTTP(w http.ResponseWriter, r *http.Request) 

    }
    class cache << (S,Aquamarine) >> {
        - mu sync.Mutex
        - lru *lru.Cache
        - cacheBytes int64

        - add(key string, value ByteView) 
        - get(key string) (ByteView, bool)

    }
    class geecache.GetterFunc << (T, #FF7700) >>  {
    }
}

"lru.Value" <|- - "implements""geecache.ByteView"
"geecache.Getter" <|- - "implements""geecache.GetterFunc"


namespace lru {
    class Cache << (S,Aquamarine) >> {
        - maxBytes int64
        - nbytes int64
        - ll *list.List
        - cache <font color=blue>map</font>[string]*list.Element

        + OnEvicted <font color=blue>func</font>(string, Value) 

        + Add(key string, value Value) 
        + Get(key string) (Value, bool)
        + RemoveOldest() 
        + Len() int

    }
    interface Value  {
        + Len() int

    }
    class entry << (S,Aquamarine) >> {
        - key string
        - value Value

    }
}

"lru.Value" <|- - "implements""lru.Cache"


"geecache.<font color=blue>func</font>(string) ([]byte, error)" #.. "alias of""geecache.GetterFunc"

footer  Generated via www.dumels.com\n<img:support_files/svg_placeholders/logo.png{scale=.3}>
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>